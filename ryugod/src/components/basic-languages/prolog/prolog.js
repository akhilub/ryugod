/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
export var conf = {
    comments: {
        lineComment: '%',
        blockComment: ["/*", "*/"]
    },
    brackets: [
        ['{', '}'],
        ['[', ']'],
        ['(', ')']
    ],
    autoClosingPairs: [
        { open: '{', close: '}' },
        { open: '[', close: ']' },
        { open: '(', close: ')' },
        { open: '"', close: '"', notIn: ['string'] },
    ],
    surroundingPairs: [
        { open: '{', close: '}' },
        { open: '[', close: ']' },
        { open: '(', close: ')' },
        { open: '"', close: '"' },
    ],
    folding: {
        offSide: true,
        markers: {
            start: new RegExp('^\\s*#region\\b'),
            end: new RegExp('^\\s*#endregion\\b')
        }
    }
};
export var language = {
    defaultToken: '',
    tokenPostfix: '.pl',
    keywords: [
        'op',
        'nl',
        'fail',
        'dynamic',
        'discontiguous',
        'initialization',
        'meta_predicate',
        'module_transparent',
        'multifile',
        'public',
        'thread_local',
        'thread_initialization',
        'volatile',
    ],
    builtins: [
        'abolish',
        'abolish_op',
        'abolish_record',
        'abort',
        'abs',
        'absolute_file_name',
        'accept',
        'access_file',
        'acos',
        'acosh',
        'acyclic_term',
        'add_attribute',
        'add_import_module',
        'alarm',
        'als',
        'append',
        'append_strings',
        'apropos',
        'arg',
        'argc',
        'argv',
        'arity',
        'array',
        'array_concat',
        'array_flat',
        'array_list',
        'asin',
        'asinh',
        'assert',
        'asserta',
        'assertz',
        'at',
        'at_end_of_stream',
        'at_eof',
        'at_halt',
        'atan',
        'atanh',
        'atom',
        'atom_chars',
        'atom_codes',
        'atom_concat',
        'atom_length',
        'atom_number',
        'atom_prefix',
        'atom_string',
        'atom_to_stem_list',
        'atom_to_term',
        'atomic',
        'atomic_concat',
        'atomic_list_concat',
        'atomics_to_string',
        'attach_packs',
        'attach_suspensions',
        'attached_suspensions',
        'attr_portray_hook',
        'attr_unify_hook',
        'attribute_goals',
        'attvar',
        'autoload',
        'autoload_path',
        'autoload_tool',
        'b_external',
        'b_getval',
        'b_set_dict',
        'b_setval',
        'bag_abolish',
        'bag_count',
        'bag_create',
        'bag_dissolve',
        'bag_enter',
        'bag_erase',
        'bag_retrieve',
        'bagof',
        'begin_module',
        'begin_tests',
        'between',
        'bind',
        'blob',
        'block',
        'break',
        'breal',
        'breal_bounds',
        'breal_from_bounds',
        'breal_max',
        'breal_min',
        'byte_count',
        'bytes_to_term',
        'call',
        'call_c',
        'call_dcg',
        'call_explicit',
        'call_priority',
        'call_residue_vars',
        'call-2',
        'callable',
        'cancel_after_event',
        'cancel_halt',
        'canonical_path_name',
        'catch',
        'cd',
        'ceil',
        'ceiling',
        'char_code',
        'char_conversion',
        'char_int',
        'char_type',
        'character_count',
        'chdir',
        'chr_leash',
        'chr_notrace',
        'chr_show_store',
        'chr_trace',
        'clause',
        'clause_property',
        'close',
        'close_dde_conversation',
        'close_table',
        'clrbit',
        'code_type',
        'collation_key',
        'comment',
        'compare',
        'compare_instances',
        'compare_strings',
        'compile',
        'compile_aux_clauses',
        'compile_predicates',
        'compile_stream',
        'compile_term',
        'compile_term_annotated',
        'compiled_stream',
        'compiling',
        'compound',
        'compound_name_arguments',
        'compound_name_arity',
        'concat_atom',
        'concat_atoms',
        'concat_string',
        'concat_strings',
        'connect',
        'consult',
        'context_module',
        'copy_predicate_clauses',
        'copy_stream_data',
        'copy_term',
        'copy_term_nat',
        'copy_term_vars',
        'copysign',
        'coroutine',
        'cos',
        'cosh',
        'coverof',
        'cputime',
        'create_module',
        'create_prolog_flag',
        'current_after_event',
        'current_after_events',
        'current_arithmetic_function',
        'current_array',
        'current_atom',
        'current_blob',
        'current_built_in',
        'current_char_conversion',
        'current_compiled_file',
        'current_domain',
        'current_engine',
        'current_error',
        'current_flag',
        'current_format_predicate',
        'current_functor',
        'current_input',
        'current_interrupt',
        'current_key',
        'current_locale',
        'current_macro',
        'current_module',
        'current_module_predicate',
        'current_op',
        'current_output',
        'current_pragma',
        'current_predicate',
        'current_prolog_flag',
        'current_record',
        'current_signal',
        'current_store',
        'current_stream',
        'current_struct',
        'current_suspension',
        'current_trie',
        'current_trigger',
        'cyclic_term',
        'date',
        'date_time_stamp',
        'date_time_value',
        'day_of_the_week',
        'dbgcomp',
        'dcg_translate_rule',
        'dde_current_connection',
        'dde_current_service',
        'dde_execute',
        'dde_poke',
        'dde_register_service',
        'dde_request',
        'dde_unregister_service',
        'debug',
        'debug_reset',
        'debugging',
        'decval',
        'default_module',
        'define_error',
        'define_macro',
        'del_attr',
        'del_attrs',
        'del_dict',
        'delay',
        'delayed_goals',
        'delayed_goals_number',
        'delete',
        'delete_directory',
        'delete_file',
        'delete_import_module',
        'demon',
        'denominator',
        'deprecated',
        'deterministic',
        'dict_create',
        'dict_pairs',
        'dif',
        'dim',
        'directory_files',
        'discontiguous',
        'display',
        'div',
        'divmod',
        'do',
        'doc_browser',
        'doc_collect',
        'doc_load_library',
        'doc_server',
        'domain',
        'domain_index',
        'double_metaphone',
        'downcase_atom',
        'dtd',
        'dtd_property',
        'duplicate_term',
        'dwim_match',
        'dwim_predicate',
        'dynamic',
        'e',
        'edit',
        'elif',
        'else',
        'encoding',
        'endif',
        'engine_create',
        'engine_fetch',
        'engine_next',
        'engine_next_reified',
        'engine_post',
        'engine_self',
        'engine_yield',
        'ensure_loaded',
        'enter_suspension_list',
        'env',
        'epsilon',
        'erase',
        'erase_all',
        'erase_array',
        'erase_macro',
        'erase_module',
        'erf',
        'erfc',
        'errno_id',
        'error',
        'error_id',
        'eval',
        'event',
        'event_after',
        'event_after_every',
        'event_create',
        'event_disable',
        'event_enable',
        'event_retrieve',
        'events_after',
        'events_defer',
        'events_nodefer',
        'exception',
        'exec',
        'exec_group',
        'existing_file',
        'exists',
        'exists_directory',
        'exists_file',
        'exists_source',
        'exit',
        'exit_block',
        'exp',
        'expand_answer',
        'expand_clause',
        'expand_file_name',
        'expand_file_search_path',
        'expand_goal',
        'expand_macros',
        'expand_query',
        'expand_term',
        'explain',
        'export',
        'external',
        'fail',
        'fail_if',
        'false',
        'fast_read',
        'fast_term_serialized',
        'fast_write',
        'file_base_name',
        'file_directory_name',
        'file_name_extension',
        'file_search_path',
        'fill_buffer',
        'find_chr_constraint',
        'findall',
        'findnsols',
        'fix',
        'flag',
        'flatten_array',
        'float',
        'float_fractional_part',
        'float_integer_part',
        'floor',
        'flush',
        'flush_output',
        'forall',
        'fork',
        'format',
        'format_predicate',
        'format_time',
        'frandom',
        'free',
        'free_dtd',
        'free_sgml_parser',
        'free_table',
        'freeze',
        'frozen',
        'functor',
        'garbage_collect',
        'garbage_collect_atoms',
        'garbage_collect_clauses',
        'gcd',
        'gdebug',
        'get',
        'get_attr',
        'get_attrs',
        'get_byte',
        'get_char',
        'get_chtab',
        'get_code',
        'get_dict',
        'get_error_handler',
        'get_event_handler',
        'get_file_info',
        'get_flag',
        'get_interrupt_handler',
        'get_leash',
        'get_module_info',
        'get_priority',
        'get_prompt',
        'get_sgml_parser',
        'get_single_char',
        'get_stream',
        'get_stream_info',
        'get_string_code',
        'get_suspension_data',
        'get_table_attribute',
        'get_time',
        'get_timer',
        'get_var_bounds',
        'get_var_info',
        'getbit',
        'getcwd',
        'getenv',
        'getval',
        'global',
        'global_op',
        'goal_expansion',
        'ground',
        'gspy',
        'gtrace',
        'guitracer',
        'gxref',
        'gzopen',
        'halt',
        'help',
        'if',
        'import',
        'import_module',
        'in_pce_thread',
        'in_pce_thread_sync',
        'in_table',
        'include',
        'incval',
        'inf',
        'init_suspension_list',
        'inline',
        'insert_suspension',
        'instance',
        'integer',
        'integer_atom',
        'iri_xml_namespace',
        'is',
        'is_absolute_file_name',
        'is_array',
        'is_built_in',
        'is_dict',
        'is_dynamic',
        'is_engine',
        'is_event',
        'is_handle',
        'is_list',
        'is_locked',
        'is_predicate',
        'is_record',
        'is_stream',
        'is_suspension',
        'is_thread',
        'join_string',
        'keysort',
        'kill',
        'kill_display_matrix',
        'kill_suspension',
        'known_licenses',
        'lcm',
        'leash',
        'length',
        'lgamma',
        'lib',
        'library_directory',
        'license',
        'line_count',
        'line_position',
        'list_strings',
        'listen',
        'listing',
        'ln',
        'load',
        'load_dtd',
        'load_files',
        'load_html',
        'load_rdf',
        'load_sgml',
        'load_structure',
        'load_test_files',
        'load_xml',
        'local',
        'local_record',
        'local_time',
        'local_time_string',
        'locale_create',
        'locale_destroy',
        'locale_property',
        'locale_sort',
        'lock',
        'lock_pass',
        'log',
        'lsb',
        'macro',
        'make',
        'make_array',
        'make_directory',
        'make_display_matrix',
        'make_library_index',
        'make_local_array',
        'make_suspension',
        'max',
        'memberchk',
        'merge',
        'merge_suspension_lists',
        'message_hook',
        'message_property',
        'message_queue_create',
        'message_queue_destroy',
        'message_queue_property',
        'message_to_string',
        'meta',
        'meta_attribute',
        'meta_bind',
        'meta_predicate',
        'min',
        'mkdir',
        'mod',
        'mode',
        'module',
        'module_interface',
        'module_property',
        'msb',
        'msort',
        'mutex',
        'mutex_create',
        'mutex_destroy',
        'mutex_init',
        'mutex_lock',
        'mutex_property',
        'mutex_statistics',
        'mutex_trylock',
        'mutex_unlock',
        'name',
        'nan',
        'nb_current',
        'nb_delete',
        'nb_getval',
        'nb_link_dict',
        'nb_linkarg',
        'nb_linkval',
        'nb_set_dict',
        'nb_setarg',
        'nb_setval',
        'new_dtd',
        'new_order_table',
        'new_sgml_parser',
        'new_socket_server',
        'new_table',
        'nl',
        'nodbgcomp',
        'nodebug',
        'noguitracer',
        'nonground',
        'nonvar',
        'noprotocol',
        'normalize_space',
        'nospy',
        'nospyall',
        'not',
        'not_unify',
        'notify_constrained',
        'notrace',
        'nth_clause',
        'nth_integer_root_and_remainder',
        'number',
        'number_chars',
        'number_codes',
        'number_merge',
        'number_sort',
        'number_string',
        'numbervars',
        'numerator',
        'occurs',
        'odbc_close_statement',
        'odbc_connect',
        'odbc_current_connection',
        'odbc_current_table',
        'odbc_data_source',
        'odbc_debug',
        'odbc_disconnect',
        'odbc_driver_connect',
        'odbc_end_transaction',
        'odbc_execute',
        'odbc_fetch',
        'odbc_free_statement',
        'odbc_get_connection',
        'odbc_prepare',
        'odbc_query',
        'odbc_set_connection',
        'odbc_statistics',
        'odbc_table_column',
        'odbc_table_foreign_key',
        'odbc_table_primary_key',
        'odbc_type',
        'on_signal',
        'once',
        'op',
        'open',
        'open_dde_conversation',
        'open_dtd',
        'open_null_stream',
        'open_resource',
        'open_string',
        'open_table',
        'order_table_mapping',
        'os_file_name',
        'parallel',
        'parse_time',
        'passed',
        'pathname',
        'pause',
        'pce_dispatch',
        'pdt_install_console',
        'peek_byte',
        'peek_char',
        'peek_code',
        'peek_string',
        'peer',
        'peer_deregister_multitask',
        'peer_do_multitask',
        'peer_get_property',
        'peer_multitask_confirm',
        'peer_multitask_terminate',
        'peer_queue_close',
        'peer_queue_create',
        'peer_queue_get_property',
        'peer_register_multitask',
        'phrase',
        'pipe',
        'plus',
        'popcount',
        'porter_stem',
        'portray',
        'portray_clause',
        'portray_goal',
        'portray_term',
        'powm',
        'pragma',
        'pred',
        'predicate_property',
        'predsort',
        'prefix_string',
        'print',
        'print_message',
        'print_message_lines',
        'printf',
        'process_rdf',
        'profile',
        'profiler',
        'project_attributes',
        'prolog',
        'prolog_choice_attribute',
        'prolog_current_choice',
        'prolog_current_frame',
        'prolog_cut_to',
        'prolog_debug',
        'prolog_exception_hook',
        'prolog_file_type',
        'prolog_frame_attribute',
        'prolog_ide',
        'prolog_list_goal',
        'prolog_load_context',
        'prolog_load_file',
        'prolog_nodebug',
        'prolog_skip_frame',
        'prolog_skip_level',
        'prolog_stack_property',
        'prolog_to_os_filename',
        'prolog_trace_interception',
        'prompt',
        'protocol',
        'protocola',
        'protocolling',
        'prune_instances',
        'put',
        'put_attr',
        'put_attrs',
        'put_byte',
        'put_char',
        'put_code',
        'put_dict',
        'qcompile',
        'qsave_program',
        'random',
        'random_float',
        'random_property',
        'rational',
        'rationalize',
        'rdf_write_xml',
        'read',
        'read_annotated',
        'read_clause',
        'read_directory',
        'read_exdr',
        'read_history',
        'read_link',
        'read_pending_chars',
        'read_pending_codes',
        'read_string',
        'read_table_fields',
        'read_table_record',
        'read_table_record_data',
        'read_term',
        'read_term_from_atom',
        'read_token',
        'readvar',
        'real',
        'record',
        'record_create',
        'recorda',
        'recorded',
        'recorded_list',
        'recordz',
        'redefine_system_predicate',
        'reexport',
        'reference',
        'referenced_record',
        'reload_library_index',
        'rem',
        'remote_connect',
        'remote_connect_accept',
        'remote_connect_setup',
        'remote_disconnect',
        'remote_yield',
        'rename',
        'rename_file',
        'repeat',
        'require',
        'rerecord',
        'reset',
        'reset_error_handler',
        'reset_error_handlers',
        'reset_event_handler',
        'reset_profiler',
        'resource',
        'retract',
        'retract_all',
        'retractall',
        'round',
        'run_tests',
        'running_tests',
        'same_file',
        'same_term',
        'schedule_suspensions',
        'schedule_woken',
        'see',
        'seed',
        'seeing',
        'seek',
        'seen',
        'select',
        'select_dict',
        'set_chtab',
        'set_end_of_stream',
        'set_error_handler',
        'set_event_handler',
        'set_flag',
        'set_input',
        'set_interrupt_handler',
        'set_leash',
        'set_locale',
        'set_module',
        'set_output',
        'set_prolog_flag',
        'set_prolog_IO',
        'set_prolog_stack',
        'set_prompt',
        'set_random',
        'set_sgml_parser',
        'set_stream',
        'set_stream_position',
        'set_stream_property',
        'set_suspension_data',
        'set_suspension_priority',
        'set_test_options',
        'set_timer',
        'set_var_bounds',
        'setarg',
        'setbit',
        'setenv',
        'setlocale',
        'setof',
        'setval',
        'sgml_parse',
        'sgn',
        'sh',
        'shelf',
        'shelf_abolish',
        'shelf_create',
        'shelf_dec',
        'shelf_get',
        'shelf_inc',
        'shelf_set',
        'shell',
        'shift',
        'show_coverage',
        'show_profile',
        'sign',
        'sin',
        'sinh',
        'size_file',
        'skip',
        'skipped',
        'sleep',
        'socket',
        'sort',
        'source_exports',
        'source_file',
        'source_file_property',
        'source_location',
        'split_string',
        'sprintf',
        'spy',
        'spy_term',
        'spy_var',
        'sqrt',
        'stamp_date_time',
        'statistics',
        'store',
        'store_contains',
        'store_count',
        'store_create',
        'store_delete',
        'store_erase',
        'store_get',
        'store_inc',
        'store_set',
        'stored_keys',
        'stored_keys_and_values',
        'stream_pair',
        'stream_position_data',
        'stream_property',
        'stream_select',
        'stream_truncate',
        'string',
        'string_chars',
        'string_code',
        'string_codes',
        'string_concat',
        'string_length',
        'string_list',
        'string_lower',
        'string_upper',
        'strip_module',
        'struct',
        'style_check',
        'sub_atom',
        'sub_atom_icasechk',
        'sub_string',
        'subcall',
        'subscript',
        'substring',
        'subsumes_term',
        'succ',
        'suffix',
        'suite',
        'sum',
        'suspend',
        'suspension_to_goal',
        'suspensions',
        'swritef',
        'system',
        'tab',
        'table_previous_record',
        'table_start_of_record',
        'table_version',
        'table_window',
        'tan',
        'tanh',
        'tell',
        'telling',
        'term_attvars',
        'term_expansion',
        'term_hash',
        'term_string',
        'term_subsumer',
        'term_to_atom',
        'term_to_bytes',
        'term_variables',
        'test',
        'test_and_setval',
        'test_report',
        'text_to_string',
        'thread_at_exit',
        'thread_create',
        'thread_detach',
        'thread_exit',
        'thread_get_message',
        'thread_join',
        'thread_message_hook',
        'thread_peek_message',
        'thread_property',
        'thread_self',
        'thread_send_message',
        'thread_setconcurrency',
        'thread_signal',
        'thread_statistics',
        'throw',
        'time',
        'time_file',
        'times',
        'tmp_file',
        'tmp_file_stream',
        'tokenize_atom',
        'told',
        'tool',
        'tool_body',
        'trace',
        'trace_call_port',
        'trace_exit_port',
        'trace_parent_port',
        'trace_point_port',
        'traceable',
        'tracing',
        'trie_destroy',
        'trie_gen',
        'trie_insert',
        'trie_insert_new',
        'trie_lookup',
        'trie_new',
        'trie_property',
        'trie_term',
        'trigger',
        'trim_stacks',
        'trimcore',
        'true',
        'truncate',
        'tty_get_capability',
        'tty_goto',
        'tty_put',
        'tty_size',
        'ttyflush',
        'tyi',
        'tyo',
        'type_of',
        'unaccent_atom',
        'unget',
        'unifiable',
        'unify_with_occurs_check',
        'unix',
        'unknown',
        'unload_file',
        'unlock',
        'unschedule_suspension',
        'unsetenv',
        'unskipped',
        'untraceable',
        'upcase_atom',
        'update_struct',
        'use_module',
        'var',
        'var_number',
        'var_property',
        'variable',
        'variant',
        'variant_hash',
        'version',
        'visible',
        'wait',
        'wait_for_input',
        'wake',
        'when',
        'wildcard_match',
        'win_add_dll_directory',
        'win_exec',
        'win_folder',
        'win_has_menu',
        'win_insert_menu',
        'win_insert_menu_item',
        'win_registry_get_value',
        'win_remove_dll_directory',
        'win_shell',
        'win_window_pos',
        'window_title',
        'with_mutex',
        'with_output_to',
        'working_directory',
        'write',
        'write_canonical',
        'write_exdr',
        'write_length',
        'write_term',
        'writeclause',
        'writef',
        'writeln',
        'writeq',
        'xget',
        'xml_is_dom',
        'xml_to_rdf',
        'xor',
        'xset',
        'yield',
        'zopen',
    ],
    brackets: [
        { open: '{', close: '}', token: 'delimiter.curly' },
        { open: '[', close: ']', token: 'delimiter.bracket' },
        { open: '(', close: ')', token: 'delimiter.parenthesis' }
    ],
    tokenizer: {
        root: [
            { include: '@whitespace' },
            { include: '@numbers' },
            { include: '@strings' },
            [/[,:;]/, 'delimiter'],
            [/[{}\[\]()]/, '@brackets'],
            [/@[a-zA-Z_]\w*/, 'tag'],
            [
                /[a-zA-Z_]\w*/,
                {
                    cases: {
                        '@keywords': 'keyword',
                        '@builtins': 'type.identifier',
                        '@default': 'identifier'
                    }
                }
            ]
        ],
        // Deal with white space, including single and multi-line comments
        whitespace: [
            [/\s+/, 'white'],
            [/(%.*$)/, 'comment'],
            [/\/\*/, 'comment', '@comment'],
        ],
        comment: [
            [/[^\/*]+/, 'comment'],
            [/\*\//, 'comment', '@pop'],
            [/[\/*]/, 'comment']
        ],
        // Recognize hex, negatives, decimals, imaginaries, longs, and scientific notation
        numbers: [
            [/-?0x([abcdef]|[ABCDEF]|\d)+[lL]?/, 'number.hex'],
            [/-?(\d*\.)?\d+([eE][+\-]?\d+)?[jJ]?[lL]?/, 'number']
        ],
        // Recognize strings, including those broken across lines with \ (but not without)
        strings: [
            [/'$/, 'string.escape', '@popall'],
            [/'/, 'string.escape', '@stringBody'],
            [/"$/, 'string.escape', '@popall'],
            [/"/, 'string.escape', '@dblStringBody']
        ],
        stringBody: [
            [/[^\\']+$/, 'string', '@popall'],
            [/[^\\']+/, 'string'],
            [/\\./, 'string'],
            [/'/, 'string.escape', '@popall'],
            [/\\$/, 'string']
        ],
        dblStringBody: [
            [/[^\\"]+$/, 'metatag', '@popall'],
            [/[^\\"]+/, 'metatag'],
            [/\\./, 'metatag'],
            [/"/, 'string.escape', '@popall'],
            [/\\$/, 'metatag']
        ]
    }
};
